{"code":"(window.webpackJsonp=window.webpackJsonp||[]).push([[3],{32:function(t,e,n){\"use strict\";n.d(e,\"a\",(function(){return l}));var r=n(0),o=n.n(r),c=n(8),u=n(6),i=n.n(u),a=n(33),s=n(9);function l(t){var e=t.by,n=t.time,r=t.id,u=t.descendants;return o.a.createElement(s.a,null,(function(t){var i=t.theme;return o.a.createElement(\"div\",{className:\"meta-info-\".concat(i)},o.a.createElement(\"span\",null,\"by \",o.a.createElement(c.b,{to:\"/user?id=\".concat(e)},e)),o.a.createElement(\"span\",null,\"on \",Object(a.a)(n)),\"number\"==typeof u&&o.a.createElement(\"span\",null,\"with \",o.a.createElement(c.b,{to:\"/post?id=\".concat(r)},u),\" comments\"))}))}l.propTypes={by:i.a.string.isRequired,time:i.a.number.isRequired,id:i.a.number.isRequired,descendants:i.a.number}},33:function(t,e,n){\"use strict\";function r(t){return new Date(1e3*t).toLocaleDateString(\"en-US\",{hour:\"numeric\",minute:\"numeric\"})}n.d(e,\"a\",(function(){return r}))},34:function(t,e,n){\"use strict\";n.d(e,\"b\",(function(){return a})),n.d(e,\"a\",(function(){return s})),n.d(e,\"c\",(function(){return l})),n.d(e,\"e\",(function(){return f})),n.d(e,\"d\",(function(){return p}));var r=\"https://hacker-news.firebaseio.com/v0\",o=\".json?print=pretty\";function c(t){return t.filter(Boolean).filter((function(t){return!0!==t.dead}))}function u(t){return t.filter((function(t){return!0!==t.deleted}))}function i(t){return t.filter((function(t){return\"story\"===t.type}))}function a(t){return fetch(\"\".concat(r,\"/item/\").concat(t).concat(o)).then((function(t){return t.json()}))}function s(t){return Promise.all(t.map(a)).then((function(t){return u(c(t).filter((function(t){return\"comment\"===t.type})))}))}function l(t){return fetch(\"\".concat(r,\"/\").concat(t,\"stories\").concat(o)).then((function(t){return t.json()})).then((function(e){if(!e)throw new Error(\"There was an error fetching the \".concat(t,\" posts.\"));return e.slice(0,50)})).then((function(t){return Promise.all(t.map(a))})).then((function(t){return u(i(c(t)))}))}function f(t){return fetch(\"\".concat(r,\"/user/\").concat(t).concat(o)).then((function(t){return t.json()}))}function p(t){return Promise.all(t.map(a)).then((function(t){return u(i(c(t)))}))}},35:function(t,e,n){\"use strict\";n.d(e,\"a\",(function(){return a}));var r=n(0),o=n.n(r),c=n(6),u=n.n(c),i=n(8);function a(t){var e=t.url,n=t.title,r=t.id;return e?o.a.createElement(\"a\",{className:\"link\",href:e},n):o.a.createElement(i.b,{className:\"link\",to:\"/post?id=\".concat(r)},n)}a.propTypes={url:u.a.string,title:u.a.string.isRequired,id:u.a.number.isRequired}},36:function(t,e,n){\"use strict\";n.d(e,\"a\",(function(){return s}));var r=n(0),o=n.n(r),c=n(6),u=n.n(c),i=n(32),a=n(35);function s(t){var e=t.posts;return 0===e.length?o.a.createElement(\"p\",{className:\"center-text\"},\"This user hasn't posted yet\"):o.a.createElement(\"ul\",null,e.map((function(t){return o.a.createElement(\"li\",{key:t.id,className:\"post\"},o.a.createElement(a.a,{url:t.url,title:t.title,id:t.id}),o.a.createElement(i.a,{by:t.by,time:t.time,id:t.id,descendants:t.descendants}))})))}s.propTypes={posts:u.a.array.isRequired}},41:function(t,e,n){\"use strict\";n.r(e),n.d(e,\"default\",(function(){return w}));var r=n(0),o=n.n(r),c=n(6),u=n.n(c),i=n(34),a=n(13),s=n(36);function l(t){return(l=\"function\"==typeof Symbol&&\"symbol\"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&\"function\"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?\"symbol\":typeof t})(t)}function f(t,e){if(!(t instanceof e))throw new TypeError(\"Cannot call a class as a function\")}function p(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,\"value\"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function m(t,e){return(m=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function d(t){var e=function(){if(\"undefined\"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if(\"function\"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=b(t);if(e){var o=b(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return y(this,n)}}function y(t,e){return!e||\"object\"!==l(e)&&\"function\"!=typeof e?h(t):e}function h(t){if(void 0===t)throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");return t}function b(t){return(b=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function v(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var w=function(t){!function(t,e){if(\"function\"!=typeof e&&null!==e)throw new TypeError(\"Super expression must either be null or a function\");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&m(t,e)}(u,t);var e,n,r,c=d(u);function u(){var t;f(this,u);for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];return v(h(t=c.call.apply(c,[this].concat(n))),\"state\",{posts:null,error:null,loading:!0}),t}return e=u,(n=[{key:\"componentDidMount\",value:function(){this.handleFetch()}},{key:\"componentDidUpdate\",value:function(t){t.type!==this.props.type&&this.handleFetch()}},{key:\"handleFetch\",value:function(){var t=this;this.setState({posts:null,error:null,loading:!0}),Object(i.c)(this.props.type).then((function(e){return t.setState({posts:e,loading:!1,error:null})})).catch((function(e){var n=e.message;return t.setState({error:n,loading:!1})}))}},{key:\"render\",value:function(){var t=this.state,e=t.posts,n=t.error;return!0===t.loading?o.a.createElement(a.a,null):n?o.a.createElement(\"p\",{className:\"center-text error\"},n):o.a.createElement(s.a,{posts:e})}}])&&p(e.prototype,n),r&&p(e,r),u}(o.a.Component);w.propTypes={type:u.a.oneOf([\"top\",\"new\"])}}}]);","extractedComments":[]}