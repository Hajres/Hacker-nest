{"code":"(window.webpackJsonp=window.webpackJsonp||[]).push([[2],{32:function(t,e,n){\"use strict\";n.d(e,\"a\",(function(){return l}));var r=n(0),o=n.n(r),c=n(8),a=n(6),i=n.n(a),u=n(33),s=n(9);function l(t){var e=t.by,n=t.time,r=t.id,a=t.descendants;return o.a.createElement(s.a,null,(function(t){var i=t.theme;return o.a.createElement(\"div\",{className:\"meta-info-\".concat(i)},o.a.createElement(\"span\",null,\"by \",o.a.createElement(c.b,{to:\"/user?id=\".concat(e)},e)),o.a.createElement(\"span\",null,\"on \",Object(u.a)(n)),\"number\"==typeof a&&o.a.createElement(\"span\",null,\"with \",o.a.createElement(c.b,{to:\"/post?id=\".concat(r)},a),\" comments\"))}))}l.propTypes={by:i.a.string.isRequired,time:i.a.number.isRequired,id:i.a.number.isRequired,descendants:i.a.number}},33:function(t,e,n){\"use strict\";function r(t){return new Date(1e3*t).toLocaleDateString(\"en-US\",{hour:\"numeric\",minute:\"numeric\"})}n.d(e,\"a\",(function(){return r}))},34:function(t,e,n){\"use strict\";n.d(e,\"b\",(function(){return u})),n.d(e,\"a\",(function(){return s})),n.d(e,\"c\",(function(){return l})),n.d(e,\"e\",(function(){return f})),n.d(e,\"d\",(function(){return p}));var r=\"https://hacker-news.firebaseio.com/v0\",o=\".json?print=pretty\";function c(t){return t.filter(Boolean).filter((function(t){return!0!==t.dead}))}function a(t){return t.filter((function(t){return!0!==t.deleted}))}function i(t){return t.filter((function(t){return\"story\"===t.type}))}function u(t){return fetch(\"\".concat(r,\"/item/\").concat(t).concat(o)).then((function(t){return t.json()}))}function s(t){return Promise.all(t.map(u)).then((function(t){return a(c(t).filter((function(t){return\"comment\"===t.type})))}))}function l(t){return fetch(\"\".concat(r,\"/\").concat(t,\"stories\").concat(o)).then((function(t){return t.json()})).then((function(e){if(!e)throw new Error(\"There was an error fetching the \".concat(t,\" posts.\"));return e.slice(0,50)})).then((function(t){return Promise.all(t.map(u))})).then((function(t){return a(i(c(t)))}))}function f(t){return fetch(\"\".concat(r,\"/user/\").concat(t).concat(o)).then((function(t){return t.json()}))}function p(t){return Promise.all(t.map(u)).then((function(t){return a(i(c(t)))}))}},35:function(t,e,n){\"use strict\";n.d(e,\"a\",(function(){return u}));var r=n(0),o=n.n(r),c=n(6),a=n.n(c),i=n(8);function u(t){var e=t.url,n=t.title,r=t.id;return e?o.a.createElement(\"a\",{className:\"link\",href:e},n):o.a.createElement(i.b,{className:\"link\",to:\"/post?id=\".concat(r)},n)}u.propTypes={url:a.a.string,title:a.a.string.isRequired,id:a.a.number.isRequired}},37:function(t,e,n){\"use strict\";const r=n(38),o=n(39),c=n(40);function a(t){if(\"string\"!=typeof t||1!==t.length)throw new TypeError(\"arrayFormatSeparator must be single character string\")}function i(t,e){return e.encode?e.strict?r(t):encodeURIComponent(t):t}function u(t,e){return e.decode?o(t):t}function s(t){const e=t.indexOf(\"#\");return-1!==e&&(t=t.slice(0,e)),t}function l(t){const e=(t=s(t)).indexOf(\"?\");return-1===e?\"\":t.slice(e+1)}function f(t,e){return e.parseNumbers&&!Number.isNaN(Number(t))&&\"string\"==typeof t&&\"\"!==t.trim()?t=Number(t):!e.parseBooleans||null===t||\"true\"!==t.toLowerCase()&&\"false\"!==t.toLowerCase()||(t=\"true\"===t.toLowerCase()),t}function p(t,e){a((e=Object.assign({decode:!0,sort:!0,arrayFormat:\"none\",arrayFormatSeparator:\",\",parseNumbers:!1,parseBooleans:!1},e)).arrayFormatSeparator);const n=function(t){let e;switch(t.arrayFormat){case\"index\":return(t,n,r)=>{e=/\\[(\\d*)\\]$/.exec(t),t=t.replace(/\\[\\d*\\]$/,\"\"),e?(void 0===r[t]&&(r[t]={}),r[t][e[1]]=n):r[t]=n};case\"bracket\":return(t,n,r)=>{e=/(\\[\\])$/.exec(t),t=t.replace(/\\[\\]$/,\"\"),e?void 0!==r[t]?r[t]=[].concat(r[t],n):r[t]=[n]:r[t]=n};case\"comma\":case\"separator\":return(e,n,r)=>{const o=\"string\"==typeof n&&n.split(\"\").indexOf(t.arrayFormatSeparator)>-1?n.split(t.arrayFormatSeparator).map(e=>u(e,t)):null===n?n:u(n,t);r[e]=o};default:return(t,e,n)=>{void 0!==n[t]?n[t]=[].concat(n[t],e):n[t]=e}}}(e),r=Object.create(null);if(\"string\"!=typeof t)return r;if(!(t=t.trim().replace(/^[?#&]/,\"\")))return r;for(const o of t.split(\"&\")){let[t,a]=c(e.decode?o.replace(/\\+/g,\" \"):o,\"=\");a=void 0===a?null:[\"comma\",\"separator\"].includes(e.arrayFormat)?a:u(a,e),n(u(t,e),a,r)}for(const t of Object.keys(r)){const n=r[t];if(\"object\"==typeof n&&null!==n)for(const t of Object.keys(n))n[t]=f(n[t],e);else r[t]=f(n,e)}return!1===e.sort?r:(!0===e.sort?Object.keys(r).sort():Object.keys(r).sort(e.sort)).reduce((t,e)=>{const n=r[e];return Boolean(n)&&\"object\"==typeof n&&!Array.isArray(n)?t[e]=function t(e){return Array.isArray(e)?e.sort():\"object\"==typeof e?t(Object.keys(e)).sort((t,e)=>Number(t)-Number(e)).map(t=>e[t]):e}(n):t[e]=n,t},Object.create(null))}e.extract=l,e.parse=p,e.stringify=(t,e)=>{if(!t)return\"\";a((e=Object.assign({encode:!0,strict:!0,arrayFormat:\"none\",arrayFormatSeparator:\",\"},e)).arrayFormatSeparator);const n=n=>e.skipNull&&null==t[n]||e.skipEmptyString&&\"\"===t[n],r=function(t){switch(t.arrayFormat){case\"index\":return e=>(n,r)=>{const o=n.length;return void 0===r||t.skipNull&&null===r||t.skipEmptyString&&\"\"===r?n:null===r?[...n,[i(e,t),\"[\",o,\"]\"].join(\"\")]:[...n,[i(e,t),\"[\",i(o,t),\"]=\",i(r,t)].join(\"\")]};case\"bracket\":return e=>(n,r)=>void 0===r||t.skipNull&&null===r||t.skipEmptyString&&\"\"===r?n:null===r?[...n,[i(e,t),\"[]\"].join(\"\")]:[...n,[i(e,t),\"[]=\",i(r,t)].join(\"\")];case\"comma\":case\"separator\":return e=>(n,r)=>null==r||0===r.length?n:0===n.length?[[i(e,t),\"=\",i(r,t)].join(\"\")]:[[n,i(r,t)].join(t.arrayFormatSeparator)];default:return e=>(n,r)=>void 0===r||t.skipNull&&null===r||t.skipEmptyString&&\"\"===r?n:null===r?[...n,i(e,t)]:[...n,[i(e,t),\"=\",i(r,t)].join(\"\")]}}(e),o={};for(const e of Object.keys(t))n(e)||(o[e]=t[e]);const c=Object.keys(o);return!1!==e.sort&&c.sort(e.sort),c.map(n=>{const o=t[n];return void 0===o?\"\":null===o?i(n,e):Array.isArray(o)?o.reduce(r(n),[]).join(\"&\"):i(n,e)+\"=\"+i(o,e)}).filter(t=>t.length>0).join(\"&\")},e.parseUrl=(t,e)=>({url:s(t).split(\"?\")[0]||\"\",query:p(l(t),e)}),e.stringifyUrl=(t,n)=>{const r=s(t.url).split(\"?\")[0]||\"\",o=e.extract(t.url),c=e.parse(o),a=function(t){let e=\"\";const n=t.indexOf(\"#\");return-1!==n&&(e=t.slice(n)),e}(t.url),i=Object.assign(c,t.query);let u=e.stringify(i,n);return u&&(u=\"?\"+u),`${r}${u}${a}`}},38:function(t,e,n){\"use strict\";t.exports=t=>encodeURIComponent(t).replace(/[!'()*]/g,t=>\"%\"+t.charCodeAt(0).toString(16).toUpperCase())},39:function(t,e,n){\"use strict\";var r=new RegExp(\"%[a-f0-9]{2}\",\"gi\"),o=new RegExp(\"(%[a-f0-9]{2})+\",\"gi\");function c(t,e){try{return decodeURIComponent(t.join(\"\"))}catch(t){}if(1===t.length)return t;e=e||1;var n=t.slice(0,e),r=t.slice(e);return Array.prototype.concat.call([],c(n),c(r))}function a(t){try{return decodeURIComponent(t)}catch(o){for(var e=t.match(r),n=1;n<e.length;n++)e=(t=c(e,n).join(\"\")).match(r);return t}}t.exports=function(t){if(\"string\"!=typeof t)throw new TypeError(\"Expected `encodedURI` to be of type `string`, got `\"+typeof t+\"`\");try{return t=t.replace(/\\+/g,\" \"),decodeURIComponent(t)}catch(e){return function(t){for(var e={\"%FE%FF\":\"��\",\"%FF%FE\":\"��\"},n=o.exec(t);n;){try{e[n[0]]=decodeURIComponent(n[0])}catch(t){var r=a(n[0]);r!==n[0]&&(e[n[0]]=r)}n=o.exec(t)}e[\"%C2\"]=\"�\";for(var c=Object.keys(e),i=0;i<c.length;i++){var u=c[i];t=t.replace(new RegExp(u,\"g\"),e[u])}return t}(t)}}},40:function(t,e,n){\"use strict\";t.exports=(t,e)=>{if(\"string\"!=typeof t||\"string\"!=typeof e)throw new TypeError(\"Expected the arguments to be of type `string`\");if(\"\"===e)return[t];const n=t.indexOf(e);return-1===n?[t]:[t.slice(0,n),t.slice(n+e.length)]}},43:function(t,e,n){\"use strict\";n.r(e),n.d(e,\"default\",(function(){return E}));var r=n(0),o=n.n(r),c=n(37),a=n.n(c),i=n(34),u=n(13),s=n(32),l=n(35);n(6);function f(t){var e=t.comment;return o.a.createElement(\"div\",{className:\"comment\"},o.a.createElement(s.a,{comment:!0,by:e.by,time:e.time,id:e.id}),o.a.createElement(\"p\",{dangerouslySetInnerHTML:{__html:e.text}}))}function p(t){return(p=\"function\"==typeof Symbol&&\"symbol\"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&\"function\"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?\"symbol\":typeof t})(t)}function m(t,e){if(!(t instanceof e))throw new TypeError(\"Cannot call a class as a function\")}function d(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,\"value\"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function y(t,e){return(y=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function b(t){var e=function(){if(\"undefined\"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if(\"function\"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=v(t);if(e){var o=v(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return h(this,n)}}function h(t,e){return!e||\"object\"!==p(e)&&\"function\"!=typeof e?g(t):e}function g(t){if(void 0===t)throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");return t}function v(t){return(v=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function j(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var E=function(t){!function(t,e){if(\"function\"!=typeof e&&null!==e)throw new TypeError(\"Super expression must either be null or a function\");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&y(t,e)}(p,t);var e,n,r,c=b(p);function p(){var t;m(this,p);for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];return j(g(t=c.call.apply(c,[this].concat(n))),\"state\",{post:null,loadingPost:!0,comments:null,loadingComments:!0,error:null}),t}return e=p,(n=[{key:\"componentDidMount\",value:function(){var t=this,e=a.a.parse(this.props.location.search).id;Object(i.b)(e).then((function(e){return t.setState({post:e,loadingPost:!1}),Object(i.a)(e.kids||[])})).then((function(e){return t.setState({comments:e,loadingComments:!1})})).catch((function(e){var n=e.message;return t.setState({error:n,loadingPost:!1,loadingComments:!1})}))}},{key:\"render\",value:function(){var t=this.state,e=t.post,n=t.loadingPost,r=(t.comments,t.loadingComments),c=t.error;return c?o.a.createElement(\"p\",{className:\"center-text error\"},c):o.a.createElement(o.a.Fragment,null,!0===n?o.a.createElement(u.a,{text:\"Fetching post\"}):o.a.createElement(o.a.Fragment,null,o.a.createElement(\"h1\",{className:\"header\"},o.a.createElement(l.a,{url:e.url,title:e.title,id:e.id})),o.a.createElement(s.a,{by:e.by,time:e.time,id:e.id,descendants:e.descendants}),o.a.createElement(\"p\",{dangerouslySetInnerHTML:{__html:e.text}})),!0===r?!1===n&&o.a.createElement(u.a,{text:\"Fetching comments\"}):o.a.createElement(o.a.Fragment,null,this.state.comments.map((function(t){return o.a.createElement(f,{key:t.id,comment:t})}))))}}])&&d(e.prototype,n),r&&d(e,r),p}(o.a.Component)}}]);","extractedComments":[]}